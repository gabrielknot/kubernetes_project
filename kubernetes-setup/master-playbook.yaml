---
#- name: Node Configuration
#  hosts: master,workers
#  roles:
#  - dockerInstall 
#  - apacheAb
#  - stressNgInstall
#  - kubernetesInstall
#  - helmInstall
- name: Master Setup
  hosts: master
  vars:
    environment_ACME: 'dev'
    my_cloudflare_mail: 'gcftutos@gmail.com'
    my_cloudflare_token: '0sOOi1kf-ONP7Erl0HIDGP8ZCbHLDezclYeJiYkD'
    my_domain: 'fitfatfix.com'
    my_lets_encrypt_mail: 'gcftutos@gmail.com'
  roles:
    #- kubeadmSetup
    #- metricsServer
  - certManager
  - nginxIngress
- name: Kubeconfig setup
  hosts: master
  roles:
  - kubeconfigSetup
- name: Workwr Configuration
  hosts: workers
  roles:
  - dockerInstall 
  - kubernetesInstall
- name: Node Configuration
  hosts: master,workers
  roles:
  - joinNode
